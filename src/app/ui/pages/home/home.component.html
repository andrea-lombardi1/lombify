<div class="toolbar">
  <div class="start">
    <p-button>
      <span class="material-symbols"> favorite </span>
      <span>Preferiti</span>
    </p-button>
  </div>
  <div class="center">
    <input
      pInputText
      placeholder="Search"
      [(ngModel)]="query"
      (keydown)="search()"
      aria-label="search"
      style="width: 32rem"
      [class.ng-invalid]="query.length < 3"
    />
  </div>
  <div class="end">
    <p-selectbutton
      [options]="stateOptions"
      [(ngModel)]="value"
      optionLabel="label"
      optionValue="value"
      aria-labelledby="basic"
      (onChange)="search()"
    />
  </div>
</div>
<div class="divider"></div>
@if (query.length < 3) {
<div class="hero">
  <div class="card">
    <img src="./logo.png" alt="Card" style="margin: auto; max-width: 30rem" />
    <h1>Benvenuto su Lombify</h1>
    <p>Per la ricerca, scrivi almeno 3 caratteri... buon ascolto!</p>
  </div>
</div>
} @else if (!results) {
<div class="hero">
<app-spinner></app-spinner>
</div>
} @else if (results.resultCount === 0) {
<p-card [style]="{ width: '30rem', overflow: 'hidden', margin: 'auto' }">
  <p-header>
    <img
      src="https://i1.wp.com/potafiori.com/wp-content/uploads/2020/04/placeholder.png?ssl=1"
      alt="Card"
      style="max-width: 30rem"
    />
  </p-header>
  <h1>0 risultati</h1>
  <p>Non ci sono risultati per la tua ricerca... prova con qualcos'altro!</p>
</p-card>
} @else { @if (!value) {
<p-table
  [value]="results.results"
  stripedRows
  scrollable="true"
  scrollHeight="calc(100vh - 188px)"
  [tableStyle]="{ 'margin': '0 0 0 16px', width: 'calc(100% - 16px)' }"
>
  <ng-template #header>
    <tr></tr>
  </ng-template>
  <ng-template #body let-row>
    <tr>
      @if (row.wrapperType == 'artist') {
      <td>
        <p-avatar
          [label]="row.artistName.charAt(0)"
          size="xlarge"
          [style]="{ 'width': '100px', 'height': '100px' }"
        />
      </td>
      <td>
        <h2>{{ row.artistName }}</h2>
      </td>
      <td>
        <p-button [rounded]="true" severity="secondary" [style]="{ 'font-size': '1.5rem', 'padding': '1rem' }">
          <span class="material-symbols-outlined" style="font-size: 2rem;"> favorite </span>
        </p-button>
      </td>
      <td>
        <p-button [rounded]="true" severity="secondary" [style]="{ 'font-size': '1.5rem', 'padding': '1rem' }">
          <span class="material-symbols-outlined" style="font-size: 2rem;"> account_circle </span>
        </p-button>
      </td>
      } @else if (row.wrapperType == 'collection') {
      <td>
        <p-avatar
          [image]="row.artworkUrl100"
          size="xlarge"
          [style]="{ 'width': '100px', 'height': 'auto' }"
        />
      </td>
      <td>
        <h2>{{ row.collectionName }}</h2>
      </td>
      <td>
        <p-button [rounded]="true" severity="secondary" [style]="{ 'font-size': '1.5rem', 'padding': '1rem' }">
          <span class="material-symbols-outlined" style="font-size: 2rem;"> favorite </span>
        </p-button>
      </td>
      <td>
        <p-button [rounded]="true" severity="secondary" [style]="{ 'font-size': '1.5rem', 'padding': '1rem' }">
          <span class="material-symbols-outlined" style="font-size: 2rem;"> collections_bookmark </span>
        </p-button>
      </td>
      } @else if (row.wrapperType == 'track') {
      <td>
        <p-avatar
          [image]="row.artworkUrl100"
          size="xlarge"
          [style]="{ 'width': '100px', 'height': 'auto' }"
        />
      </td>
      <td>
        <h2>{{ row.trackName }}</h2>
      </td>
      <td>
        <p-button [rounded]="true" severity="secondary" [style]="{ 'font-size': '1.5rem', 'padding': '1rem' }">
          <span class="material-symbols-outlined" style="font-size: 2rem;"> favorite </span>
        </p-button>
      </td>
      <td>
        <p-button [rounded]="true" severity="secondary" [style]="{ 'font-size': '1.5rem', 'padding': '1rem' }" (click)="playSong(row.previewUrl)">
          <span class="material-symbols-outlined" style="font-size: 2rem;"> play_circle </span>
        </p-button>
      </td>
      }
    </tr>
  </ng-template>
</p-table>
} @else if (value === 'musicArtist') { musicArtist } @else if (value ===
'album') { album } @else if (value === 'musicTrack') { musicTrack } }

<div class="bottombar">
  <div class="start">
    <p-button>
      <span class="material-symbols"> play_arrow </span>
    </p-button>
  </div>
  <div class="center">
    <p>Titolo</p>
  </div>
  <div class="end">
    <p-button>
      <span class="material-symbols"> expand_content </span>
    </p-button>
    <p-button>
      <span class="material-symbols"> close </span>
    </p-button>
  </div>
</div>
